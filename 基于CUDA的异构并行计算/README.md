## 1. 串行编程和并行编程	

### 应用程序中的两种基本并行类型

任务并行： 当许多任务或函数可以独立的、大规模的并行执行时，这就是任务并行。重点在于利用多核系统对任务进行分配

数据并行： 当可以同时处理许多数据时，就是数据并行。重点在于利用多核系统对数据进行分配

数据并行处理可以将数据映射给并行线程(CUDA专业处理)

### 数据并行程序处理

**第一步**： 把数据依据线程进行划分，以使每个线程处理一部分数据。（块划分和周期划分）

block partitioning: 一组连续的数据被分到一个块内，每个block安排一个线程，线程通常在统一时间只处理一个block

cyclic partitioning: 更少的数据分到block,相邻的线程处理相邻的block,每个线程可以处理多个block,为一个待处理的线程选择新的数据块
意味要跳过和现有线程同样多的block

**延迟**： 一个操作从开始到结束完成所需要的时间，用来衡量完成一次操作的时间

**带宽**： 单位时间内可处理的数据量，通常表示为MB/s或GB/s

**吞吐量**: 单位时间内成功处理的运算数量，通常表示为gflops(每秒十亿次的浮点运算数量)， 用来衡量在给定的单位时间内处理的操作量

### CPU和性和GPU核心

尽管可以使用多核和众核来区分CPU和GPU架构，但是这两种核心时完全不同的。CPU核心比较重，用来处理非常复杂的控制逻辑，以优化串行程序执行。GPU核心较轻
，用于优化具有简单控制逻辑的数据并行任务，注重并行程序的吞吐量。

### 异构应用

主机代码在CPU上运行，设备代码在GPU上运行。异构平台上执行的应用通常由CPU初始化。在设备端加载计算密集型任务之前，CPU代码负责管理设备端的环境、代码和数据。

### CUDA编程

CUDA提供了两层API来管理GPU设备和组织线程：

驱动API： 低级API，较难编程，但是针对于GPU设备使用上提供了更多的控制。

运行时API： 高级API， 它在驱动API的上层实现。每个运行时API函数都被分解为更多传给驱动API的基本运算。

### nvcc

nvcc编译器在编译过程中，将设备代码从主机代码中分离出来。主机代码时标准的C代码，使用C编译器。设备代码，也就是核函数，是用扩展的带有标记数据并行关键字的CUDA C编写的。设备代码通过nvcc进行编译。在链接阶段，在内核程序调用和显示GPU设备操作中添加CUDA运行时库。

### hello world

**写CUDA程序步骤**

.cu为源文件扩展名

使用cuda nvcc编译器进行编译

从命令行运行可执行文件，这个文件有可在GPU上运行的内核代码

[hello world](https://github.com/ReyRen/cuda-programming-examples/blob/master/%E5%9F%BA%E4%BA%8ECUDA%E7%9A%84%E5%BC%82%E6%9E%84%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97/hello-world.cu)
                                                                                                                                                                
**数据局部性**：

如果想写一个像并行程序一样高效的代码，那么需要对CPU架构有基本的了解。例如，数据局部性在并行编程中很重要。数据局部性指的是数据的重用，以降低内存访问的延迟.其又可以分为时间局部性和空间局部性。

时间局部性是在较短的时间段内数据或资源的重用。空间局部性是在较近的存储空间数据元素的重用。

### CUDA C

当使用ANSI C编写一个并行程序，需要使用pthreads/OpenMP来显示的组织线程，这两项技术使得大多处理器架构以及操作系统中支持并行编程。当CUDA C编写的时候，实际上你只编写了被单个线程调用
的一小段代码。GPU处理这个内核函数，然后启动成千上万个线程实现并兴化，所有的线程都执行相同的计算。
CUDA抽象了硬件层，不需要将应用程序映射到传统图形API上。














































































































































































































































































































































































































































